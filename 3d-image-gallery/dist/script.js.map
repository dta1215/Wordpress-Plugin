{"version":3,"file":"script.js","mappings":"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","sources":["webpack://b-image-gallery/external var [\"wp\",\"element\"]","webpack://b-image-gallery/./src/Style.js","webpack://b-image-gallery/./src/Gallery.js","webpack://b-image-gallery/./src/script.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = wp.element;","const Style = ({ attributes, clientId }) => {\r\n\tconst { gallery, itemHeight, columnGap, rowGap, background, shadow, hoverShadow, titleTypo, subtitleTypo } = attributes;\r\n\r\n\treturn <>\r\n\t\t<style dangerouslySetInnerHTML={{\r\n\t\t\t__html: `\r\n\t\t\t${titleTypo?.googleFontLink ? `@import url(${titleTypo?.googleFontLink});` : ''}\r\n\t\t\t${subtitleTypo?.googleFontLink ? `@import url(${subtitleTypo?.googleFontLink});` : ''}\r\n\r\n\t\t\t#bigbImageGallery-${clientId} .bigbImageGallery .galleryItems{\r\n\t\t\t\tgrid-gap: ${rowGap} ${columnGap};\r\n\t\t\t}\r\n\t\t\t#bigbImageGallery-${clientId} .bigbImageGallery .galleryItem{\r\n\t\t\t\theight: ${itemHeight};\r\n\t\t\t\t${background?.styles || 'background: linear-gradient(#ff5f6d, #ffc371);'}\r\n\t\t\t\tbox-shadow: ${shadow?.styles || '0 4px 4px 0 #000a1459'};\r\n\t\t\t}\r\n\t\t\t#bigbImageGallery-${clientId} .bigbImageGallery .galleryItem:hover, #bigbImageGallery-${clientId} .bigbImageGallery .galleryItem.nowEditing{\r\n\t\t\t\tbox-shadow: ${hoverShadow?.styles || '0 12px 20px -12px #000a14cc'};\r\n\t\t\t}\r\n\t\t\t#bigbImageGallery-${clientId} .bigbImageGallery .galleryHeader h3{\r\n\t\t\t\t${titleTypo?.styles || 'font-size: 48px;'}\r\n\t\t\t}\r\n\t\t\t#bigbImageGallery-${clientId} .bigbImageGallery .galleryHeader h5{\r\n\t\t\t\t${subtitleTypo?.styles || 'font-size: 20px;'}\r\n\t\t\t}\r\n\t\t\t`.replace(/\\s+/g, ' ')\r\n\t\t}} />\r\n\r\n\t\t<style>\r\n\t\t\t{gallery?.map((item, index) => {\r\n\t\t\t\tconst { colors, btnColors } = item;\r\n\r\n\t\t\t\tconst galleryItemHeader = `#bigbImageGallery-${clientId} .bigbImageGallery #galleryItem-${index} .galleryHeader`;\r\n\t\t\t\tconst galleryItemFooter = `#bigbImageGallery-${clientId} .bigbImageGallery #galleryItem-${index} .galleryFooter`;\r\n\r\n\t\t\t\tconst btnColor = btnColors.color;\r\n\t\t\t\tconst btnBG = 'gradient' === btnColors.bgType ? btnColors.gradient : btnColors.bg;\r\n\r\n\t\t\t\treturn `\r\n\t\t\t\t\t${galleryItemHeader}::before,\r\n\t\t\t\t\t${galleryItemFooter}::before{\r\n\t\t\t\t\t\tbackground: ${'gradient' === colors.bgType ? colors.gradient : colors.bg};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t${galleryItemHeader} h3,\r\n\t\t\t\t\t${galleryItemHeader} h5{\r\n\t\t\t\t\t\tcolor: ${colors.color};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t${galleryItemHeader} .btnClose{\r\n\t\t\t\t\t\tcolor: ${btnColor};\r\n\t\t\t\t\t\tbackground: ${btnBG};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t${galleryItemFooter} nav.controls .control{\r\n\t\t\t\t\t\tbackground: ${btnBG};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t${galleryItemFooter} nav.controls .controlDot{\r\n\t\t\t\t\t\tbackground: ${btnBG};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t${galleryItemFooter} nav.controls .controlDot::after{\r\n\t\t\t\t\t\tbackground-color: ${btnColor};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t${galleryItemFooter} nav.controls .controlArrow{\r\n\t\t\t\t\t\tcolor: ${btnColor};\r\n\t\t\t\t\t}\r\n\t\t\t\t`.replace(/\\s+/g, ' ');\r\n\t\t\t})}\r\n\t\t</style>\r\n\t</>;\r\n}\r\nexport default Style;","import { useState, useEffect, useRef, useCallback } from '@wordpress/element';\r\n\r\n// const lerp = (a, b, t) => (1 - t) * a + t * b;\r\n\r\n// Slightly updated version of https://css-tricks.com/using-requestanimationframe-with-react-hooks/\r\n// const useAnimationFrame = (callback, immediate = false) => {\r\n// \tconst frameRef = useRef();\r\n// \tconst cancelRef = useRef(false);\r\n\r\n// \tconst cancel = useCallback(() => cancelAnimationFrame(frameRef.current), []);\r\n\r\n// \tconst start = useCallback(() => {\r\n// \t\tcancelRef.current = false;\r\n// \t\tframeRef.current = requestAnimationFrame(animate);\r\n// \t}, []);\r\n\r\n// \tconst stop = useCallback(() => {\r\n// \t\tcancelRef.current = true;\r\n// \t}, []);\r\n\r\n// \tconst animate = useCallback(time => {\r\n// \t\tif (cancelRef.current) {\r\n// \t\t\tcancel();\r\n// \t\t} else {\r\n// \t\t\tstart();\r\n\r\n// \t\t\ttry {\r\n// \t\t\t\tcallback(time, stop);\r\n// \t\t\t} catch (e) {\r\n// \t\t\t\tcancel();\r\n// \t\t\t}\r\n// \t\t}\r\n// \t}, []);\r\n\r\n// \tuseEffect(() => {\r\n// \t\timmediate && start(0, stop);\r\n\r\n// \t\treturn stop;\r\n// \t}, []);\r\n\r\n// \treturn { frameRef, start, stop }\r\n// }\r\n\r\nconst useInterval = (callback, time, delay) => {\r\n\tconst intervalRef = useRef();\r\n\r\n\tconst stop = useCallback(() => clearInterval(intervalRef.current), []);\r\n\r\n\tconst start = useCallback(delay => {\r\n\t\tconst _start = () => {\r\n\t\t\tintervalRef.current = setInterval(callback, time);\r\n\t\t}\r\n\r\n\t\tstop();\r\n\r\n\t\tif (+delay > 0) {\r\n\t\t\tsetTimeout(_start, delay);\r\n\t\t} else {\r\n\t\t\t_start();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tstart(delay);\r\n\r\n\t\treturn stop;\r\n\t}, []);\r\n\r\n\treturn { intervalRef, start, stop }\r\n}\r\n\r\n// Components\r\nconst GalleryImages = ({ images, imgIndex, wrapper, container, loadCount }) => <div className='galleryImages' ref={container}>\r\n\t{images?.length && images.map((image, i) => {\r\n\t\tconst imageVisible = imgIndex || 0;\r\n\r\n\t\treturn <img key={i} className={imageVisible === i ? 'imageVisible' : ''} src={image}\r\n\t\t\tonLoad={() => {\r\n\t\t\t\tloadCount.current++\r\n\r\n\t\t\t\tif (loadCount.current === images.length) {\r\n\t\t\t\t\tcontainer.current?.classList.add('galleryImagesLoaded');\r\n\t\t\t\t\twrapper.current?.querySelector('.galleryLoader').classList.remove('visible');\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\t})}\r\n</div>\r\n\r\nconst GalleryLoader = () => <span className='galleryLoader visible'>\r\n\t<span className='bar'></span>\r\n\t<span className='bar'></span>\r\n\t<span className='bar'></span>\r\n\t<span className='bar'></span>\r\n\t<span className='bar'></span>\r\n</span>;\r\n\r\nconst GalleryHeader = ({ title, subtitle, onClick }) => <header className='galleryHeader'>\r\n\t<div className='galleryHeadings'>\r\n\t\t<h3>{title}</h3>\r\n\t\t<h5>{subtitle}</h5>\r\n\t</div>\r\n\r\n\t{onClick && <button className='btnClose' onClick={onClick} >\r\n\t\t<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'>\r\n\t\t\t<path d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z' />\r\n\t\t</svg>\r\n\t</button>}\r\n</header>;\r\n\r\n\r\nconst Gallery = ({ gallery, slideSpeed, columns, isPopup = true, editActiveIndex = null, setEditActiveIndex = null }) => {\r\n\t// const mouseDelta = useRef([0, 0]);\r\n\t// const animate = useCallback((hoverRef, offsetRef, imgContainerRef) => {\r\n\t// \tlet mouseDeltaX = 0;\r\n\t// \tlet mouseDeltaY = 0;\r\n\r\n\t// \tif (hoverRef.current) {\r\n\t// \t\t[mouseDeltaX, mouseDeltaY] = mouseDelta.current;\r\n\t// \t}\r\n\r\n\t// \toffsetRef.current = [\r\n\t// \t\tlerp(offsetRef.current[0], mouseDeltaX, 0.025),\r\n\t// \t\tlerp(offsetRef.current[1], mouseDeltaY, 0.025),\r\n\t// \t]\r\n\r\n\t// \timgContainerRef.current.style.transform = `translateX(${offsetRef.current[0]}%) translateY(${offsetRef.current[1]}%)`;\r\n\t// }, []);\r\n\r\n\t// const onMouseEnter = useCallback((startAnimation, cancelAnimationTimeout, hover) => {\r\n\t// \tcancelAnimationTimeout.current && clearTimeout(cancelAnimationTimeout.current);\r\n\r\n\t// \thover.current = true;\r\n\r\n\t// \tstartAnimation();\r\n\t// }, []);\r\n\r\n\t// const onMouseMove = useCallback(({ clientX, clientY }, el) => {\r\n\t// \tconst { offsetLeft, offsetTop, offsetWidth, offsetHeight } = el;\r\n\t// \tconst centerX = 0.5 * offsetWidth;\r\n\t// \tconst centerY = 0.5 * offsetHeight;\r\n\r\n\t// \tmouseDelta.current = [\r\n\t// \t\t-15 * (clientX - centerX - offsetLeft) / offsetWidth,\r\n\t// \t\t-15 * (clientY - centerY - offsetTop) / offsetHeight,\r\n\t// \t];\r\n\t// }, []);\r\n\r\n\t// const onMouseLeave = useCallback((stopAnimation, cancelAnimationTimeout, hover) => {\r\n\t// \thover.current = false;\r\n\r\n\t// \tcancelAnimationTimeout.current = setTimeout(() => {\r\n\t// \t\tcancelAnimationTimeout.current = null;\r\n\r\n\t// \t\tstopAnimation();\r\n\t// \t}, 2500);\r\n\t// }, []);\r\n\r\n\t// Popup Placeholder\r\n\tconst popupGallery = useRef(null);\r\n\tconst popupGalleryItem = useRef(null);\r\n\tconst popupImgContainer = useRef();\r\n\tconst popupImgLoadCount = useRef(0);\r\n\tconst popupTargetOffset = useRef([0, 0]);\r\n\t// const popupCancelAnimationTimeout = useRef();\r\n\t// const popupHover = useRef(false);\r\n\tconst activeItemImgLength = useRef(0);\r\n\r\n\tconst [activeIndex, setActiveIndex] = useState(null);\r\n\tconst [popupImgIndex, setPopupImgIndex] = useState(0);\r\n\r\n\tconst popupItem = gallery[activeIndex];\r\n\tactiveItemImgLength.current = popupItem?.images.length;\r\n\r\n\t// const { start: startPopupAnimation, stop: stopPopupAnimation } = useAnimationFrame(() => animate(popupHover, popupTargetOffset, popupImgContainer));\r\n\r\n\tconst cycleImgIndex = useCallback((popupInterval = false, direction = 'forward', reset = false) => {\r\n\t\treset && popupInterval();\r\n\r\n\t\tsetPopupImgIndex(currentIndex => {\r\n\t\t\tconst newIndex = direction === 'forward' ? currentIndex + 1 : currentIndex - 1;\r\n\r\n\t\t\treturn newIndex > activeItemImgLength.current - 1 ? 0 :\r\n\t\t\t\tnewIndex < 0 ? activeItemImgLength.current - 1 : newIndex\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst selectImgIndex = useCallback((popupInterval, newIndex, reset = false) => {\r\n\t\treset && popupInterval();\r\n\r\n\t\tsetPopupImgIndex(newIndex);\r\n\t}, []);\r\n\r\n\tconst { start: startPopupInterval } = useInterval(() => cycleImgIndex(), slideSpeed * 1000, 0);\r\n\r\n\tconst onClickGalleryItem = useCallback((index) => {\r\n\t\tsetActiveIndex(index);\r\n\t\tsetEditActiveIndex && setEditActiveIndex(index);\r\n\r\n\t\tisPopup && popupGallery.current?.classList.add('active');\r\n\t}, []);\r\n\r\n\tconst onClickClose = useCallback(() => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetActiveIndex(null);\r\n\t\t}, 750);\r\n\t\tpopupGallery.current?.classList.remove('active');\r\n\t\tpopupImgLoadCount.current = 0;\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tpopupTargetOffset.current = [0, 0];\r\n\t}, []);\r\n\r\n\treturn <>\r\n\t\t<div className={`galleryItems columns-${columns.desktop} columns-tablet-${columns.tablet} columns-mobile-${columns.mobile}`}>\r\n\t\t\t{gallery.map((item, index) => {\r\n\t\t\t\tconst { title, subtitle, images } = item;\r\n\r\n\t\t\t\tconst galleryItem = useRef(null);\r\n\t\t\t\tconst imgContainer = useRef();\r\n\t\t\t\tconst targetOffset = useRef([0, 0]);\r\n\t\t\t\t// const cancelAnimationTimeout = useRef();\r\n\t\t\t\tconst imgLoadCount = useRef(0);\r\n\t\t\t\t// const hover = useRef(false);\r\n\r\n\t\t\t\tlet imgIndex = 0;\r\n\t\t\t\tconst cycleImgIndexInner = useCallback(() => {\r\n\t\t\t\t\tconst newIndex = imgIndex + 1;\r\n\t\t\t\t\timgIndex = newIndex > images.length - 1 ? 0\r\n\t\t\t\t\t\t: newIndex < 0 ? images.length - 1\r\n\t\t\t\t\t\t\t: newIndex;\r\n\r\n\t\t\t\t\timgContainer.current?.childNodes?.forEach(el => {\r\n\t\t\t\t\t\tel && el.classList.contains('imageVisible') && el.classList.remove('imageVisible')\r\n\t\t\t\t\t});\r\n\t\t\t\t\timgContainer.current?.childNodes[imgIndex].classList.add('imageVisible');\r\n\t\t\t\t}, []);\r\n\r\n\t\t\t\t// const { start: startAnimation, stop: stopAnimation } = useAnimationFrame(() => animate(hover, targetOffset, imgContainer));\r\n\r\n\t\t\t\tuseInterval(() => images.length > 1 && cycleImgIndexInner(), slideSpeed * 1000, index * 200);\r\n\r\n\t\t\t\tuseEffect(() => {\r\n\t\t\t\t\ttargetOffset.current = [0, 0];\r\n\t\t\t\t}, []);\r\n\r\n\t\t\t\treturn <div key={index} className={`galleryItem ${null !== editActiveIndex && index === editActiveIndex ? 'bigbNowEditing' : ''}`} id={`galleryItem-${index}`} onClick={() => onClickGalleryItem(index)}\r\n\t\t\t\t\t// onMouseEnter={() => onMouseEnter(startAnimation, cancelAnimationTimeout, hover)}\r\n\t\t\t\t\t// onMouseMove={e => onMouseMove(e, galleryItem.current)}\r\n\t\t\t\t\t// onMouseLeave={() => onMouseLeave(stopAnimation, cancelAnimationTimeout, hover)}\r\n\t\t\t\t\tref={galleryItem}>\r\n\r\n\t\t\t\t\t<GalleryImages images={images} wrapper={galleryItem} container={imgContainer} loadCount={imgLoadCount} />\r\n\r\n\t\t\t\t\t<GalleryLoader />\r\n\r\n\t\t\t\t\t<GalleryHeader title={title} subtitle={subtitle} />\r\n\t\t\t\t</div>;\r\n\t\t\t})}\r\n\t\t</div>\r\n\r\n\t\t{isPopup && <div className='popupGallery' ref={popupGallery}>\r\n\t\t\t<div className='popupContent'>\r\n\t\t\t\t{popupItem && <div className={`galleryItem ${null !== editActiveIndex && activeIndex === editActiveIndex ? 'nowEditing' : ''}`} id={`galleryItem-${activeIndex}`}\r\n\t\t\t\t\t// onMouseEnter={() => onMouseEnter(startPopupAnimation, popupCancelAnimationTimeout, popupHover)}\r\n\t\t\t\t\t// onMouseMove={e => onMouseMove(e, popupGalleryItem.current)}\r\n\t\t\t\t\t// onMouseLeave={() => onMouseLeave(stopPopupAnimation, popupCancelAnimationTimeout, popupHover)}\r\n\t\t\t\t\tref={popupGalleryItem}>\r\n\r\n\t\t\t\t\t<GalleryImages images={popupItem.images} imgIndex={popupImgIndex} wrapper={popupGalleryItem} container={popupImgContainer} loadCount={popupImgLoadCount} />\r\n\r\n\t\t\t\t\t<GalleryLoader />\r\n\r\n\t\t\t\t\t<GalleryHeader title={popupItem.title} subtitle={popupItem.subtitle} onClick={onClickClose} />\r\n\r\n\t\t\t\t\t{popupItem.images.length > 1 && <footer className='galleryFooter'>\r\n\t\t\t\t\t\t<nav className='controls'>\r\n\t\t\t\t\t\t\t<button className='control controlArrow' onClick={() => cycleImgIndex(startPopupInterval, 'backward', true)}>\r\n\t\t\t\t\t\t\t\t<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'>\r\n\t\t\t\t\t\t\t\t\t<path d='M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z' />\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t{popupItem.images.map((_, i) => (\r\n\t\t\t\t\t\t\t\t<button key={i}\r\n\t\t\t\t\t\t\t\t\tclassName={`control controlDot ${i === popupImgIndex ? 'controlDotActive' : ''}`}\r\n\t\t\t\t\t\t\t\t\tdata-index={i}\r\n\t\t\t\t\t\t\t\t\tonClick={() => selectImgIndex(startPopupInterval, i)}\r\n\t\t\t\t\t\t\t\t></button>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t<button className='control controlArrow' onClick={() => cycleImgIndex(startPopupInterval, 'forward', true)}>\r\n\t\t\t\t\t\t\t\t<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='currentColor'>\r\n\t\t\t\t\t\t\t\t\t<path d='M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z' />\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t</footer>}\r\n\t\t\t\t</div>}\r\n\t\t\t</div>\r\n\t\t</div>}\r\n\t</>\r\n}\r\nexport default Gallery;","import { render } from '@wordpress/element';\r\n\r\nimport './style.scss';\r\nimport Style from './Style';\r\nimport Gallery from './Gallery';\r\n\r\n// Pricing Tables\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst allImageGallery = document.querySelectorAll('.wp-block-bigb-image-gallery');\r\n\tallImageGallery.forEach(imageGallery => {\r\n\t\tconst attributes = JSON.parse(imageGallery.dataset.attributes);\r\n\t\tconst { cId, gallery, slideSpeed, columns } = attributes;\r\n\r\n\t\trender(<>\r\n\t\t\t<Style attributes={attributes} clientId={cId} />\r\n\r\n\t\t\t<div className='bigbImageGallery'>\r\n\t\t\t\t<Gallery gallery={gallery} slideSpeed={slideSpeed} columns={columns} />\r\n\t\t\t</div>\r\n\t\t</>, imageGallery);\r\n\r\n\t\timageGallery?.removeAttribute('data-attributes');\r\n\t});\r\n});"],"names":["wp","element","attributes","clientId","gallery","itemHeight","columnGap","rowGap","background","shadow","hoverShadow","titleTypo","subtitleTypo","dangerouslySetInnerHTML","__html","googleFontLink","styles","replace","map","item","index","colors","btnColors","galleryItemHeader","galleryItemFooter","btnColor","color","btnBG","bgType","gradient","bg","useInterval","callback","time","delay","intervalRef","useRef","stop","useCallback","clearInterval","current","start","_start","setInterval","setTimeout","useEffect","GalleryImages","images","imgIndex","wrapper","container","loadCount","className","ref","length","image","i","imageVisible","key","src","onLoad","classList","add","querySelector","remove","GalleryLoader","GalleryHeader","title","subtitle","onClick","xmlns","width","height","viewBox","fill","d","slideSpeed","columns","isPopup","editActiveIndex","setEditActiveIndex","popupGallery","popupGalleryItem","popupImgContainer","popupImgLoadCount","popupTargetOffset","activeItemImgLength","useState","activeIndex","setActiveIndex","popupImgIndex","setPopupImgIndex","popupItem","cycleImgIndex","popupInterval","direction","reset","currentIndex","newIndex","selectImgIndex","startPopupInterval","onClickGalleryItem","onClickClose","desktop","tablet","mobile","galleryItem","imgContainer","targetOffset","imgLoadCount","cycleImgIndexInner","childNodes","forEach","el","contains","id","_","document","addEventListener","querySelectorAll","imageGallery","JSON","parse","dataset","cId","render","removeAttribute"],"sourceRoot":""}